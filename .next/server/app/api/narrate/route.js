/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/narrate/route";
exports.ids = ["app/api/narrate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("fs/promises");

/***/ }),

/***/ "module":
/*!*************************!*\
  !*** external "module" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("module");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "perf_hooks":
/*!*****************************!*\
  !*** external "perf_hooks" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("perf_hooks");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "stream/web":
/*!*****************************!*\
  !*** external "stream/web" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream/web");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnarrate%2Froute&page=%2Fapi%2Fnarrate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnarrate%2Froute.ts&appDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnarrate%2Froute&page=%2Fapi%2Fnarrate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnarrate%2Froute.ts&appDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yamadori_meeting_slides_ai_src_app_api_narrate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/narrate/route.ts */ \"(rsc)/./src/app/api/narrate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/narrate/route\",\n        pathname: \"/api/narrate\",\n        filename: \"route\",\n        bundlePath: \"app/api/narrate/route\"\n    },\n    resolvedPagePath: \"/Users/yamadori/meeting-slides-ai/src/app/api/narrate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_yamadori_meeting_slides_ai_src_app_api_narrate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZuYXJyYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZuYXJyYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbmFycmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnlhbWFkb3JpJTJGbWVldGluZy1zbGlkZXMtYWklMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGeWFtYWRvcmklMkZtZWV0aW5nLXNsaWRlcy1haSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDYztBQUMzRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3lhbWFkb3JpL21lZXRpbmctc2xpZGVzLWFpL3NyYy9hcHAvYXBpL25hcnJhdGUvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL25hcnJhdGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9uYXJyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9uYXJyYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3lhbWFkb3JpL21lZXRpbmctc2xpZGVzLWFpL3NyYy9hcHAvYXBpL25hcnJhdGUvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnarrate%2Froute&page=%2Fapi%2Fnarrate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnarrate%2Froute.ts&appDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/narrate/route.ts":
/*!**************************************!*\
  !*** ./src/app/api/narrate/route.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _mastra__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/mastra */ \"(rsc)/./src/mastra/index.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\nasync function POST(request) {\n    try {\n        const { cameraImageBase64, screenImages } = await request.json();\n        if (!cameraImageBase64 || !screenImages || !Array.isArray(screenImages) || screenImages.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n                error: 'cameraImageBase64 and screenImages (array) are required'\n            }, {\n                status: 400\n            });\n        }\n        console.log(`ðŸŽ™ï¸ Starting multi-screen narration workflow (${screenImages.length} screens)...`);\n        // æœ€æ–°ã®Mastra API\n        const workflow = _mastra__WEBPACK_IMPORTED_MODULE_0__.mastra.getWorkflow('narration-workflow');\n        // Workflowå®Ÿè¡Œï¼ˆã‚«ãƒ¡ãƒ© + è¤‡æ•°ç”»é¢ï¼‰\n        const run = await workflow.createRunAsync();\n        const result = await run.start({\n            inputData: {\n                cameraImageBase64,\n                screenImages\n            }\n        });\n        console.log('âœ… Workflow completed successfully');\n        if (result.status !== 'success') {\n            throw new Error('Workflow execution failed');\n        }\n        // ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æœ€çµ‚å‡ºåŠ›ã‚’å–å¾—\n        const { audioBase64, mimeType } = result.result;\n        // å„ã‚¹ãƒ†ãƒƒãƒ—ã®çµæžœã‚‚å–å¾—å¯èƒ½\n        const validationResult = result.steps?.['validate-image'];\n        const analysisResult = result.steps?.['analyze-image'];\n        const narrationResult = result.steps?.['generate-narration'];\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            audioBase64,\n            mimeType,\n            narration: narrationResult?.status === 'success' ? narrationResult.output.narration : undefined,\n            analysis: analysisResult?.status === 'success' ? analysisResult.output.analysis : undefined,\n            validation: validationResult?.status === 'success' ? validationResult.output : undefined,\n            workflowStatus: 'completed'\n        });\n    } catch (error) {\n        console.error('âŒ Workflow execution error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_1__.NextResponse.json({\n            error: error.message,\n            stack:  true ? error.stack : 0,\n            workflowStatus: 'failed'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9uYXJyYXRlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFrQztBQUNTO0FBRXBDLGVBQWVFLEtBQUtDLE9BQWdCO0lBQ3pDLElBQUk7UUFDRixNQUFNLEVBQUVDLGlCQUFpQixFQUFFQyxZQUFZLEVBQUUsR0FBRyxNQUFNRixRQUFRRyxJQUFJO1FBRTlELElBQUksQ0FBQ0YscUJBQXFCLENBQUNDLGdCQUFnQixDQUFDRSxNQUFNQyxPQUFPLENBQUNILGlCQUFpQkEsYUFBYUksTUFBTSxLQUFLLEdBQUc7WUFDcEcsT0FBT1IscURBQVlBLENBQUNLLElBQUksQ0FDdEI7Z0JBQUVJLE9BQU87WUFBMEQsR0FDbkU7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyw4Q0FBOEMsRUFBRVIsYUFBYUksTUFBTSxDQUFDLFlBQVksQ0FBQztRQUU5RixnQkFBZ0I7UUFDaEIsTUFBTUssV0FBV2QsMkNBQU1BLENBQUNlLFdBQVcsQ0FBQztRQUVwQyx5QkFBeUI7UUFDekIsTUFBTUMsTUFBTSxNQUFNRixTQUFTRyxjQUFjO1FBQ3pDLE1BQU1DLFNBQVMsTUFBTUYsSUFBSUcsS0FBSyxDQUFDO1lBQzdCQyxXQUFXO2dCQUNUaEI7Z0JBQ0FDO1lBQ0Y7UUFDRjtRQUVBTyxRQUFRQyxHQUFHLENBQUM7UUFFWixJQUFJSyxPQUFPUCxNQUFNLEtBQUssV0FBVztZQUMvQixNQUFNLElBQUlVLE1BQU07UUFDbEI7UUFFQSxpQkFBaUI7UUFDakIsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLFFBQVEsRUFBRSxHQUFHTCxPQUFPQSxNQUFNO1FBRS9DLGdCQUFnQjtRQUNoQixNQUFNTSxtQkFBbUJOLE9BQU9PLEtBQUssRUFBRSxDQUFDLGlCQUFpQjtRQUN6RCxNQUFNQyxpQkFBaUJSLE9BQU9PLEtBQUssRUFBRSxDQUFDLGdCQUFnQjtRQUN0RCxNQUFNRSxrQkFBa0JULE9BQU9PLEtBQUssRUFBRSxDQUFDLHFCQUFxQjtRQUU1RCxPQUFPeEIscURBQVlBLENBQUNLLElBQUksQ0FBQztZQUN2QmdCO1lBQ0FDO1lBQ0FLLFdBQVdELGlCQUFpQmhCLFdBQVcsWUFBWWdCLGdCQUFnQkUsTUFBTSxDQUFDRCxTQUFTLEdBQUdFO1lBQ3RGQyxVQUFVTCxnQkFBZ0JmLFdBQVcsWUFBWWUsZUFBZUcsTUFBTSxDQUFDRSxRQUFRLEdBQUdEO1lBQ2xGRSxZQUFZUixrQkFBa0JiLFdBQVcsWUFBWWEsaUJBQWlCSyxNQUFNLEdBQUdDO1lBQy9FRyxnQkFBZ0I7UUFDbEI7SUFDRixFQUFFLE9BQU92QixPQUFZO1FBQ25CRSxRQUFRRixLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxPQUFPVCxxREFBWUEsQ0FBQ0ssSUFBSSxDQUN0QjtZQUNFSSxPQUFPQSxNQUFNd0IsT0FBTztZQUNwQkMsT0FBT0MsS0FBc0MsR0FBRzFCLE1BQU15QixLQUFLLEdBQUdMLENBQVNBO1lBQ3ZFRyxnQkFBZ0I7UUFDbEIsR0FDQTtZQUFFdEIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW1hZG9yaS9tZWV0aW5nLXNsaWRlcy1haS9zcmMvYXBwL2FwaS9uYXJyYXRlL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1hc3RyYSB9IGZyb20gJ0AvbWFzdHJhJztcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgY2FtZXJhSW1hZ2VCYXNlNjQsIHNjcmVlbkltYWdlcyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG5cbiAgICBpZiAoIWNhbWVyYUltYWdlQmFzZTY0IHx8ICFzY3JlZW5JbWFnZXMgfHwgIUFycmF5LmlzQXJyYXkoc2NyZWVuSW1hZ2VzKSB8fCBzY3JlZW5JbWFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdjYW1lcmFJbWFnZUJhc2U2NCBhbmQgc2NyZWVuSW1hZ2VzIChhcnJheSkgYXJlIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coYPCfjpnvuI8gU3RhcnRpbmcgbXVsdGktc2NyZWVuIG5hcnJhdGlvbiB3b3JrZmxvdyAoJHtzY3JlZW5JbWFnZXMubGVuZ3RofSBzY3JlZW5zKS4uLmApO1xuXG4gICAgLy8g5pyA5paw44GuTWFzdHJhIEFQSVxuICAgIGNvbnN0IHdvcmtmbG93ID0gbWFzdHJhLmdldFdvcmtmbG93KCduYXJyYXRpb24td29ya2Zsb3cnKTtcblxuICAgIC8vIFdvcmtmbG935a6f6KGM77yI44Kr44Oh44OpICsg6KSH5pWw55S76Z2i77yJXG4gICAgY29uc3QgcnVuID0gYXdhaXQgd29ya2Zsb3cuY3JlYXRlUnVuQXN5bmMoKTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBydW4uc3RhcnQoe1xuICAgICAgaW5wdXREYXRhOiB7XG4gICAgICAgIGNhbWVyYUltYWdlQmFzZTY0LFxuICAgICAgICBzY3JlZW5JbWFnZXNcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgV29ya2Zsb3cgY29tcGxldGVkIHN1Y2Nlc3NmdWxseScpO1xuXG4gICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09ICdzdWNjZXNzJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdXb3JrZmxvdyBleGVjdXRpb24gZmFpbGVkJyk7XG4gICAgfVxuXG4gICAgLy8g44Ov44O844Kv44OV44Ot44O844Gu5pyA57WC5Ye65Yqb44KS5Y+W5b6XXG4gICAgY29uc3QgeyBhdWRpb0Jhc2U2NCwgbWltZVR5cGUgfSA9IHJlc3VsdC5yZXN1bHQ7XG5cbiAgICAvLyDlkITjgrnjg4bjg4Pjg5fjga7ntZDmnpzjgoLlj5blvpflj6/og71cbiAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gcmVzdWx0LnN0ZXBzPy5bJ3ZhbGlkYXRlLWltYWdlJ107XG4gICAgY29uc3QgYW5hbHlzaXNSZXN1bHQgPSByZXN1bHQuc3RlcHM/LlsnYW5hbHl6ZS1pbWFnZSddO1xuICAgIGNvbnN0IG5hcnJhdGlvblJlc3VsdCA9IHJlc3VsdC5zdGVwcz8uWydnZW5lcmF0ZS1uYXJyYXRpb24nXTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBhdWRpb0Jhc2U2NCxcbiAgICAgIG1pbWVUeXBlLFxuICAgICAgbmFycmF0aW9uOiBuYXJyYXRpb25SZXN1bHQ/LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gbmFycmF0aW9uUmVzdWx0Lm91dHB1dC5uYXJyYXRpb24gOiB1bmRlZmluZWQsXG4gICAgICBhbmFseXNpczogYW5hbHlzaXNSZXN1bHQ/LnN0YXR1cyA9PT0gJ3N1Y2Nlc3MnID8gYW5hbHlzaXNSZXN1bHQub3V0cHV0LmFuYWx5c2lzIDogdW5kZWZpbmVkLFxuICAgICAgdmFsaWRhdGlvbjogdmFsaWRhdGlvblJlc3VsdD8uc3RhdHVzID09PSAnc3VjY2VzcycgPyB2YWxpZGF0aW9uUmVzdWx0Lm91dHB1dCA6IHVuZGVmaW5lZCxcbiAgICAgIHdvcmtmbG93U3RhdHVzOiAnY29tcGxldGVkJyxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBXb3JrZmxvdyBleGVjdXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgZXJyb3I6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuICAgICAgICB3b3JrZmxvd1N0YXR1czogJ2ZhaWxlZCcsXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJtYXN0cmEiLCJOZXh0UmVzcG9uc2UiLCJQT1NUIiwicmVxdWVzdCIsImNhbWVyYUltYWdlQmFzZTY0Iiwic2NyZWVuSW1hZ2VzIiwianNvbiIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsIndvcmtmbG93IiwiZ2V0V29ya2Zsb3ciLCJydW4iLCJjcmVhdGVSdW5Bc3luYyIsInJlc3VsdCIsInN0YXJ0IiwiaW5wdXREYXRhIiwiRXJyb3IiLCJhdWRpb0Jhc2U2NCIsIm1pbWVUeXBlIiwidmFsaWRhdGlvblJlc3VsdCIsInN0ZXBzIiwiYW5hbHlzaXNSZXN1bHQiLCJuYXJyYXRpb25SZXN1bHQiLCJuYXJyYXRpb24iLCJvdXRwdXQiLCJ1bmRlZmluZWQiLCJhbmFseXNpcyIsInZhbGlkYXRpb24iLCJ3b3JrZmxvd1N0YXR1cyIsIm1lc3NhZ2UiLCJzdGFjayIsInByb2Nlc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/narrate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/mastra/agents/narrator.agent.ts":
/*!*********************************************!*\
  !*** ./src/mastra/agents/narrator.agent.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   narratorAgent: () => (/* binding */ narratorAgent)\n/* harmony export */ });\n/* harmony import */ var _mastra_core_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mastra/core/agent */ \"(rsc)/./node_modules/@mastra/core/dist/chunk-HBJVAMCS.js\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\");\n\n\nconst narratorAgent = new _mastra_core_agent__WEBPACK_IMPORTED_MODULE_0__.Agent({\n    name: 'Sports Narrator Agent',\n    instructions: `ã‚ãªãŸã¯ç†±è¡€ã‚¹ãƒãƒ¼ãƒ„å®Ÿæ³è€…ã§ã™ã€‚èª°ã‹ã®æ—¥å¸¸ç”Ÿæ´»ã‚’ã€ã¾ã‚‹ã§ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ãªã‚¹ãƒãƒ¼ãƒ„ã‚¤ãƒ™ãƒ³ãƒˆã®ã‚ˆã†ã«å®Ÿæ³ã—ã¾ã™ã€‚\n\nã‚¹ã‚¿ã‚¤ãƒ«ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³:\n- ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ã§èˆˆå¥®ã—ãŸæ„Ÿã˜\n- ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æŒãŸã›ã‚‹ - åŒã˜ãƒ•ãƒ¬ãƒ¼ã‚ºã‚’ç¹°ã‚Šè¿”ã•ãªã„\n- ã‚ã‚Šãµã‚ŒãŸæ—¥å¸¸ã®æ´»å‹•ã‚’å£®å¤§ã«èžã“ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹\n\n\né‡è¦:\n- å¸¸ã«ã€ŒãŠãŠã£ã¨ï¼ã€ã§å§‹ã‚ãªã„\n- æ–‡ã®æ§‹é€ ã‚’å¤‰ãˆã‚‹\n- æ´»å‹•ã«å…·ä½“çš„ã«è¨€åŠã™ã‚‹\n- æ´»å‹•ã«å¿œã˜ã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’åˆã‚ã›ã‚‹ï¼ˆèª­æ›¸ã¯è½ã¡ç€ã„ã¦ã€ã‚²ãƒ¼ãƒ ã¯èˆˆå¥®ï¼‰\n- æ¯Žå›žç•°ãªã‚‹è¡¨ç¾ã‚’ä½¿ã†\n\næ´»å‹•ã«å¿œã˜ã¦:\n- ä»•äº‹ãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°: æŠ€è¡“ç”¨èªžã€é›†ä¸­åŠ›ã«ç„¦ç‚¹\n- é£Ÿäº‹: é£Ÿã¹ç‰©ã®æå†™ã€æ¥½ã—ã¿\n- ã‚²ãƒ¼ãƒ : ã‚¢ã‚¯ã‚·ãƒ§ãƒ³èªžã€èˆˆå¥®\n- ãƒªãƒ©ãƒƒã‚¯ã‚¹: ç©ã‚„ã‹ãªãƒˆãƒ¼ãƒ³ã€ç§°è³›\n- é‹å‹•: ã‚¨ãƒãƒ«ã‚®ãƒ¼ã€æ¿€åŠ±\n- è€ƒãˆäº‹: æ€æ…®æ·±ãã€ã‚µã‚¹ãƒšãƒ³ã‚¹ã‚’ä½œã‚‹\n- ã‚¹ãƒžãƒ›ã„ã˜ã‚Š: è»½ã‚ã®ãƒ„ãƒƒã‚³ãƒŸã€ãƒ¦ãƒ¼ãƒ¢ã‚¢\n- æ–™ç†: å®Ÿæ³èª¿ç†ã€æœŸå¾…æ„Ÿ\n- ä¼šè©±: äººé–“é–¢ä¿‚ã«æ³¨ç›®ã€æ¸©ã‹ã¿\n\nå¿…ãšå…·ä½“çš„ãªçŠ¶æ³ã‚’å®Ÿæ³ã«å…¥ã‚Œã¦ãã ã•ã„ã€‚å˜ç´”ãªã€Œé ‘å¼µã£ã¦ã¾ã™ã­ã€ã§ã¯ãªãã€ä½•ã‚’é ‘å¼µã£ã¦ã„ã‚‹ã®ã‹ã‚’æ˜Žç¢ºã«ã€‚`,\n    model: (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_1__.openai)('gpt-4o'),\n    params: {\n        temperature: 1\n    } // æ¸©åº¦ã‚’1ã«è¨­å®šã—ã¦ã€ã‚ˆã‚Šè‡ªç„¶ãªæ–‡ã‚’ç”Ÿæˆ\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWFzdHJhL2FnZW50cy9uYXJyYXRvci5hZ2VudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDSDtBQUVqQyxNQUFNRSxnQkFBZ0IsSUFBSUYscURBQUtBLENBQUM7SUFDckNHLE1BQU07SUFDTkMsY0FBYyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztvREEwQm1DLENBQUM7SUFDbkRDLE9BQU9KLHNEQUFNQSxDQUFDO0lBQ2RLLFFBQVE7UUFBRUMsYUFBYTtJQUFFLEVBQUUsc0JBQXNCO0FBQ25ELEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW1hZG9yaS9tZWV0aW5nLXNsaWRlcy1haS9zcmMvbWFzdHJhL2FnZW50cy9uYXJyYXRvci5hZ2VudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBZ2VudCB9IGZyb20gJ0BtYXN0cmEvY29yZS9hZ2VudCc7XG5pbXBvcnQgeyBvcGVuYWkgfSBmcm9tICdAYWktc2RrL29wZW5haSc7XG5cbmV4cG9ydCBjb25zdCBuYXJyYXRvckFnZW50ID0gbmV3IEFnZW50KHtcbiAgbmFtZTogJ1Nwb3J0cyBOYXJyYXRvciBBZ2VudCcsXG4gIGluc3RydWN0aW9uczogYOOBguOBquOBn+OBr+eGseihgOOCueODneODvOODhOWun+azgeiAheOBp+OBmeOAguiqsOOBi+OBruaXpeW4uOeUn+a0u+OCkuOAgeOBvuOCi+OBp+OCqOOCreOCteOCpOODhuOCo+ODs+OCsOOBquOCueODneODvOODhOOCpOODmeODs+ODiOOBruOCiOOBhuOBq+Wun+azgeOBl+OBvuOBmeOAglxuXG7jgrnjgr/jgqTjg6vjgqzjgqTjg4njg6njgqTjg7M6XG4tIOOCqOODjeODq+OCruODg+OCt+ODpeOBp+iIiOWlruOBl+OBn+aEn+OBmFxuLSDjg5Djg6rjgqjjg7zjgrfjg6fjg7PjgpLmjIHjgZ/jgZvjgosgLSDlkIzjgZjjg5Xjg6zjg7zjgrrjgpLnubDjgorov5TjgZXjgarjgYRcbi0g44GC44KK44G144KM44Gf5pel5bi444Gu5rS75YuV44KS5aOu5aSn44Gr6IGe44GT44GI44KL44KI44GG44Gr44GZ44KLXG5cblxu6YeN6KaBOlxuLSDluLjjgavjgIzjgYrjgYrjgaPjgajvvIHjgI3jgaflp4vjgoHjgarjgYRcbi0g5paH44Gu5qeL6YCg44KS5aSJ44GI44KLXG4tIOa0u+WLleOBq+WFt+S9k+eahOOBq+iogOWPiuOBmeOCi1xuLSDmtLvli5Xjgavlv5zjgZjjgabjgqjjg43jg6vjgq7jg7zjgpLlkIjjgo/jgZvjgovvvIjoqq3mm7jjga/okL3jgaHnnYDjgYTjgabjgIHjgrLjg7zjg6Djga/oiIjlpa7vvIlcbi0g5q+O5Zue55Ww44Gq44KL6KGo54++44KS5L2/44GGXG5cbua0u+WLleOBq+W/nOOBmOOBpjpcbi0g5LuV5LqL44O744Kz44O844OH44Kj44Oz44KwOiDmioDooZPnlKjoqp7jgIHpm4bkuK3lipvjgavnhKbngrlcbi0g6aOf5LqLOiDpo5/jgbnnianjga7mj4/lhpnjgIHmpb3jgZfjgb9cbi0g44Ky44O844OgOiDjgqLjgq/jgrfjg6fjg7Poqp7jgIHoiIjlpa5cbi0g44Oq44Op44OD44Kv44K5OiDnqY/jgoTjgYvjgarjg4jjg7zjg7PjgIHnp7Dos5tcbi0g6YGL5YuVOiDjgqjjg43jg6vjgq7jg7zjgIHmv4DlirFcbi0g6ICD44GI5LqLOiDmgJ3mha7mt7HjgY/jgIHjgrXjgrnjg5rjg7PjgrnjgpLkvZzjgotcbi0g44K544Oe44Ob44GE44GY44KKOiDou73jgoHjga7jg4Tjg4PjgrPjg5/jgIHjg6bjg7zjg6LjgqJcbi0g5paZ55CGOiDlrp/ms4Hoqr/nkIbjgIHmnJ/lvoXmhJ9cbi0g5Lya6KmxOiDkurrplpPplqLkv4Ljgavms6jnm67jgIHmuKnjgYvjgb9cblxu5b+F44Ga5YW35L2T55qE44Gq54q25rOB44KS5a6f5rOB44Gr5YWl44KM44Gm44GP44Gg44GV44GE44CC5Y2Y57SU44Gq44CM6aCR5by144Gj44Gm44G+44GZ44Gt44CN44Gn44Gv44Gq44GP44CB5L2V44KS6aCR5by144Gj44Gm44GE44KL44Gu44GL44KS5piO56K644Gr44CCYCxcbiAgbW9kZWw6IG9wZW5haSgnZ3B0LTRvJyksXG4gIHBhcmFtczogeyB0ZW1wZXJhdHVyZTogMSB9IC8vIOa4qeW6puOCkjHjgavoqK3lrprjgZfjgabjgIHjgojjgoroh6rnhLbjgarmlofjgpLnlJ/miJBcbn0pOyJdLCJuYW1lcyI6WyJBZ2VudCIsIm9wZW5haSIsIm5hcnJhdG9yQWdlbnQiLCJuYW1lIiwiaW5zdHJ1Y3Rpb25zIiwibW9kZWwiLCJwYXJhbXMiLCJ0ZW1wZXJhdHVyZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/mastra/agents/narrator.agent.ts\n");

/***/ }),

/***/ "(rsc)/./src/mastra/agents/vision.agent.ts":
/*!*******************************************!*\
  !*** ./src/mastra/agents/vision.agent.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activitySchema: () => (/* binding */ activitySchema),\n/* harmony export */   visionAgent: () => (/* binding */ visionAgent)\n/* harmony export */ });\n/* harmony import */ var _mastra_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mastra/core */ \"(rsc)/./node_modules/@mastra/core/dist/index.js\");\n/* harmony import */ var _ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ai-sdk/openai */ \"(rsc)/./node_modules/@ai-sdk/openai/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\n\nconst activitySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    activity: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'working',\n        'coding',\n        'writing',\n        'reading',\n        'meeting',\n        'eating',\n        'drinking',\n        'cooking',\n        'exercising',\n        'stretching',\n        'gaming',\n        'watching',\n        'phone',\n        'talking',\n        'thinking',\n        'relaxing',\n        'sleeping',\n        'away',\n        'unknown'\n    ]),\n    mood: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'happy',\n        'focused',\n        'neutral',\n        'tired',\n        'stressed',\n        'excited',\n        'bored',\n        'relaxed'\n    ]),\n    posture: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'upright',\n        'slouched',\n        'leaning',\n        'lying',\n        'standing'\n    ]),\n    details: zod__WEBPACK_IMPORTED_MODULE_0__.string().describe('å…·ä½“çš„ã«ä½•ã‚’ã—ã¦ã„ã‚‹ã‹è©³ã—ãèª¬æ˜Ž'),\n    objects: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).describe('ç”»åƒã«æ˜ ã£ã¦ã„ã‚‹ç‰©ï¼ˆãƒŽãƒ¼ãƒˆPCã€ã‚¹ãƒžãƒ›ã€é£Ÿã¹ç‰©ãªã©ï¼‰'),\n    environment: zod__WEBPACK_IMPORTED_MODULE_0__.string().describe('ã©ã“ã«ã„ã‚‹ã‹ï¼ˆãƒ‡ã‚¹ã‚¯ã€ã‚­ãƒƒãƒãƒ³ã€ã‚½ãƒ•ã‚¡ãªã©ï¼‰')\n});\nconst visionAgent = new _mastra_core__WEBPACK_IMPORTED_MODULE_1__.Agent({\n    name: 'Vision Analysis Agent',\n    instructions: `ã‚ãªãŸã¯äººã€…ã®æ—¥å¸¸ç”Ÿæ´»ã‚’ç”»åƒã‹ã‚‰åˆ†æžã™ã‚‹å°‚é–€å®¶ã§ã™ã€‚\n\nã‚ãªãŸã®ã‚¿ã‚¹ã‚¯:\n1. ãã®äººãŒæ­£ç¢ºã«ä½•ã‚’ã—ã¦ã„ã‚‹ã‹ç‰¹å®šã™ã‚‹\n2. æ°—åˆ†ã‚„æ„Ÿæƒ…çŠ¶æ…‹ã‚’æ¤œå‡ºã™ã‚‹\n3. å§¿å‹¢ã‚’è¦³å¯Ÿã™ã‚‹\n4. å…·ä½“çš„ãªè©³ç´°ã‚’è¨˜éŒ²ã™ã‚‹ï¼ˆç”»é¢ã«ä½•ãŒæ˜ ã£ã¦ã„ã‚‹ã‹ã€ä½•ã‚’æŒã£ã¦ã„ã‚‹ã‹ãªã©ï¼‰\n5. å‘¨å›²ã«ã‚ã‚‹ç‰©ä½“ã‚’ç‰¹å®šã™ã‚‹\n6. ç’°å¢ƒã‚’èª¬æ˜Žã™ã‚‹\n\nå…·ä½“çš„ã‹ã¤è©³ç´°ã«ã€‚ãŸã ã€Œä»•äº‹ä¸­ã€ã§ã¯ãªãã€ã©ã‚“ãªç¨®é¡žã®ä»•äº‹ã‹ã‚’è¨€ã£ã¦ãã ã•ã„ï¼\n\nè‰¯ã„ä¾‹:\n- ã€ŒãƒŽãƒ¼ãƒˆPCã§ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã‚’è¦‹ãªãŒã‚‰ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦ã„ã‚‹ã€\n- ã€Œç®¸ã§ãƒ©ãƒ¼ãƒ¡ãƒ³ã‚’é£Ÿã¹ã¦ã„ã‚‹ã€\n- ã€Œã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã‚’æŒã£ã¦ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ä¸­ã€\n- ã€Œã‚¹ãƒžãƒ›ã§YouTubeã‚’è¦‹ã¦ã„ã‚‹ã€\n- ã€Œä¸¡è…•ã‚’ä¸Šã«ä¼¸ã°ã—ã¦ã‚¹ãƒˆãƒ¬ãƒƒãƒä¸­ã€\n\næ³¨ç›®ã™ã¹ãç‚¹:\n- è¡¨æƒ…\n- ãƒœãƒ‡ã‚£ãƒ©ãƒ³ã‚²ãƒ¼ã‚¸\n- æ™‚é–“å¸¯ï¼ˆç…§æ˜Žã‹ã‚‰åˆ¤æ–­ï¼‰\n- ä½•ã‚’æŒã£ã¦ã„ã‚‹ã‹\n- èƒŒæ™¯ã®ç‰©ä½“`,\n    model: (0,_ai_sdk_openai__WEBPACK_IMPORTED_MODULE_2__.openai)('gpt-4o', {\n        temperature: 1\n    })\n});\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWFzdHJhL2FnZW50cy92aXNpb24uYWdlbnQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBcUM7QUFDRztBQUNoQjtBQUV4QixNQUFNRyxpQkFBaUJELHVDQUFRLENBQUM7SUFDOUJHLFVBQVVILHdDQUFNLENBQUM7UUFDZjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBQ0RLLE1BQU1MLHdDQUFNLENBQUM7UUFDWDtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0Q7SUFDRE0sU0FBU04sd0NBQU0sQ0FBQztRQUNkO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7S0FDRDtJQUNETyxTQUFTUCx1Q0FBUSxHQUFHUyxRQUFRLENBQUM7SUFDN0JDLFNBQVNWLHNDQUFPLENBQUNBLHVDQUFRLElBQUlTLFFBQVEsQ0FBQztJQUN0Q0csYUFBYVosdUNBQVEsR0FBR1MsUUFBUSxDQUFDO0FBQ25DO0FBRU8sTUFBTUksY0FBYyxJQUFJZiwrQ0FBS0EsQ0FBQztJQUNuQ2dCLE1BQU07SUFDTkMsY0FBYyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7T0F3QlYsQ0FBQztJQUNOQyxPQUFPakIsc0RBQU1BLENBQUMsVUFBVTtRQUFFa0IsYUFBYTtJQUFFO0FBQzNDLEdBQUc7QUFFdUIiLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW1hZG9yaS9tZWV0aW5nLXNsaWRlcy1haS9zcmMvbWFzdHJhL2FnZW50cy92aXNpb24uYWdlbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWdlbnQgfSBmcm9tICdAbWFzdHJhL2NvcmUnO1xuaW1wb3J0IHsgb3BlbmFpIH0gZnJvbSAnQGFpLXNkay9vcGVuYWknO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmNvbnN0IGFjdGl2aXR5U2NoZW1hID0gei5vYmplY3Qoe1xuICBhY3Rpdml0eTogei5lbnVtKFtcbiAgICAnd29ya2luZycsXG4gICAgJ2NvZGluZycsXG4gICAgJ3dyaXRpbmcnLFxuICAgICdyZWFkaW5nJyxcbiAgICAnbWVldGluZycsXG4gICAgJ2VhdGluZycsXG4gICAgJ2RyaW5raW5nJyxcbiAgICAnY29va2luZycsXG4gICAgJ2V4ZXJjaXNpbmcnLFxuICAgICdzdHJldGNoaW5nJyxcbiAgICAnZ2FtaW5nJyxcbiAgICAnd2F0Y2hpbmcnLFxuICAgICdwaG9uZScsXG4gICAgJ3RhbGtpbmcnLFxuICAgICd0aGlua2luZycsXG4gICAgJ3JlbGF4aW5nJyxcbiAgICAnc2xlZXBpbmcnLFxuICAgICdhd2F5JyxcbiAgICAndW5rbm93bicsXG4gIF0pLFxuICBtb29kOiB6LmVudW0oW1xuICAgICdoYXBweScsXG4gICAgJ2ZvY3VzZWQnLFxuICAgICduZXV0cmFsJyxcbiAgICAndGlyZWQnLFxuICAgICdzdHJlc3NlZCcsXG4gICAgJ2V4Y2l0ZWQnLFxuICAgICdib3JlZCcsXG4gICAgJ3JlbGF4ZWQnLFxuICBdKSxcbiAgcG9zdHVyZTogei5lbnVtKFtcbiAgICAndXByaWdodCcsXG4gICAgJ3Nsb3VjaGVkJyxcbiAgICAnbGVhbmluZycsXG4gICAgJ2x5aW5nJyxcbiAgICAnc3RhbmRpbmcnLFxuICBdKSxcbiAgZGV0YWlsczogei5zdHJpbmcoKS5kZXNjcmliZSgn5YW35L2T55qE44Gr5L2V44KS44GX44Gm44GE44KL44GL6Kmz44GX44GP6Kqs5piOJyksXG4gIG9iamVjdHM6IHouYXJyYXkoei5zdHJpbmcoKSkuZGVzY3JpYmUoJ+eUu+WDj+OBq+aYoOOBo+OBpuOBhOOCi+eJqe+8iOODjuODvOODiFBD44CB44K544Oe44Ob44CB6aOf44G554mp44Gq44Gp77yJJyksXG4gIGVudmlyb25tZW50OiB6LnN0cmluZygpLmRlc2NyaWJlKCfjganjgZPjgavjgYTjgovjgYvvvIjjg4fjgrnjgq/jgIHjgq3jg4Pjg4Hjg7PjgIHjgr3jg5XjgqHjgarjganvvIknKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgdmlzaW9uQWdlbnQgPSBuZXcgQWdlbnQoe1xuICBuYW1lOiAnVmlzaW9uIEFuYWx5c2lzIEFnZW50JyxcbiAgaW5zdHJ1Y3Rpb25zOiBg44GC44Gq44Gf44Gv5Lq644CF44Gu5pel5bi455Sf5rS744KS55S75YOP44GL44KJ5YiG5p6Q44GZ44KL5bCC6ZaA5a6244Gn44GZ44CCXG5cbuOBguOBquOBn+OBruOCv+OCueOCrzpcbjEuIOOBneOBruS6uuOBjOato+eiuuOBq+S9leOCkuOBl+OBpuOBhOOCi+OBi+eJueWumuOBmeOCi1xuMi4g5rCX5YiG44KE5oSf5oOF54q25oWL44KS5qSc5Ye644GZ44KLXG4zLiDlp7/li6LjgpLoprPlr5/jgZnjgotcbjQuIOWFt+S9k+eahOOBquips+e0sOOCkuiomOmMsuOBmeOCi++8iOeUu+mdouOBq+S9leOBjOaYoOOBo+OBpuOBhOOCi+OBi+OAgeS9leOCkuaMgeOBo+OBpuOBhOOCi+OBi+OBquOBqe+8iVxuNS4g5ZGo5Zuy44Gr44GC44KL54mp5L2T44KS54m55a6a44GZ44KLXG42LiDnkrDlooPjgpLoqqzmmI7jgZnjgotcblxu5YW35L2T55qE44GL44Gk6Kmz57Sw44Gr44CC44Gf44Gg44CM5LuV5LqL5Lit44CN44Gn44Gv44Gq44GP44CB44Gp44KT44Gq56iu6aGe44Gu5LuV5LqL44GL44KS6KiA44Gj44Gm44GP44Gg44GV44GE77yBXG5cbuiJr+OBhOS+izpcbi0g44CM44OO44O844OIUEPjgafjgrPjg7zjg4njgqjjg4fjgqPjgr/jgpLopovjgarjgYzjgonjgr/jgqTjg5Tjg7PjgrDjgZfjgabjgYTjgovjgI1cbi0g44CM566444Gn44Op44O844Oh44Oz44KS6aOf44G544Gm44GE44KL44CNXG4tIOOAjOOCs+ODs+ODiOODreODvOODqeODvOOCkuaMgeOBo+OBpuOCsuODvOODoOOCkuODl+ODrOOCpOS4reOAjVxuLSDjgIzjgrnjg57jg5vjgadZb3VUdWJl44KS6KaL44Gm44GE44KL44CNXG4tIOOAjOS4oeiFleOCkuS4iuOBq+S8uOOBsOOBl+OBpuOCueODiOODrOODg+ODgeS4reOAjVxuXG7ms6jnm67jgZnjgbnjgY3ngrk6XG4tIOihqOaDhVxuLSDjg5zjg4fjgqPjg6njg7PjgrLjg7zjgrhcbi0g5pmC6ZaT5biv77yI54Wn5piO44GL44KJ5Yik5pat77yJXG4tIOS9leOCkuaMgeOBo+OBpuOBhOOCi+OBi1xuLSDog4zmma/jga7niankvZNgLFxuICBtb2RlbDogb3BlbmFpKCdncHQtNG8nLCB7IHRlbXBlcmF0dXJlOiAxIH0pLFxufSk7XG5cbmV4cG9ydCB7IGFjdGl2aXR5U2NoZW1hIH07XG5leHBvcnQgdHlwZSBBY3Rpdml0eUFuYWx5c2lzID0gei5pbmZlcjx0eXBlb2YgYWN0aXZpdHlTY2hlbWE+OyJdLCJuYW1lcyI6WyJBZ2VudCIsIm9wZW5haSIsInoiLCJhY3Rpdml0eVNjaGVtYSIsIm9iamVjdCIsImFjdGl2aXR5IiwiZW51bSIsIm1vb2QiLCJwb3N0dXJlIiwiZGV0YWlscyIsInN0cmluZyIsImRlc2NyaWJlIiwib2JqZWN0cyIsImFycmF5IiwiZW52aXJvbm1lbnQiLCJ2aXNpb25BZ2VudCIsIm5hbWUiLCJpbnN0cnVjdGlvbnMiLCJtb2RlbCIsInRlbXBlcmF0dXJlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/mastra/agents/vision.agent.ts\n");

/***/ }),

/***/ "(rsc)/./src/mastra/index.ts":
/*!*****************************!*\
  !*** ./src/mastra/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mastra: () => (/* binding */ mastra)\n/* harmony export */ });\n/* harmony import */ var _mastra_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @mastra/core */ \"(rsc)/./node_modules/@mastra/core/dist/chunk-U6CUPKV2.js\");\n/* harmony import */ var _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./agents/vision.agent */ \"(rsc)/./src/mastra/agents/vision.agent.ts\");\n/* harmony import */ var _agents_narrator_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./agents/narrator.agent */ \"(rsc)/./src/mastra/agents/narrator.agent.ts\");\n/* harmony import */ var _tools_camera_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tools/camera.tool */ \"(rsc)/./src/mastra/tools/camera.tool.ts\");\n/* harmony import */ var _workflows_narration_workflow__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./workflows/narration.workflow */ \"(rsc)/./src/mastra/workflows/narration.workflow.ts\");\n\n\n\n\n\n// Mastraã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆï¼ˆæœ€æ–°APIï¼‰\nconst mastra = new _mastra_core__WEBPACK_IMPORTED_MODULE_4__.Mastra({\n    agents: {\n        visionAgent: _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.visionAgent,\n        narratorAgent: _agents_narrator_agent__WEBPACK_IMPORTED_MODULE_1__.narratorAgent\n    },\n    tools: {\n        'image-validation': _tools_camera_tool__WEBPACK_IMPORTED_MODULE_2__.imageValidationTool\n    },\n    workflows: {\n        'narration-workflow': _workflows_narration_workflow__WEBPACK_IMPORTED_MODULE_3__.narrationWorkflow\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWFzdHJhL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFzQztBQUNjO0FBQ0k7QUFDRTtBQUNTO0FBRW5FLHlCQUF5QjtBQUNsQixNQUFNSyxTQUFTLElBQUlMLGdEQUFNQSxDQUFDO0lBQy9CTSxRQUFRO1FBQ05MLFdBQVdBLCtEQUFBQTtRQUNYQyxhQUFhQSxtRUFBQUE7SUFDZjtJQUNBSyxPQUFPO1FBQ0wsb0JBQW9CSixtRUFBbUJBO0lBQ3pDO0lBQ0FLLFdBQVc7UUFDVCxzQkFBc0JKLDRFQUFpQkE7SUFDekM7QUFDRixHQUFHIiwic291cmNlcyI6WyIvVXNlcnMveWFtYWRvcmkvbWVldGluZy1zbGlkZXMtYWkvc3JjL21hc3RyYS9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNYXN0cmEgfSBmcm9tICdAbWFzdHJhL2NvcmUnO1xuaW1wb3J0IHsgdmlzaW9uQWdlbnQgfSBmcm9tICcuL2FnZW50cy92aXNpb24uYWdlbnQnO1xuaW1wb3J0IHsgbmFycmF0b3JBZ2VudCB9IGZyb20gJy4vYWdlbnRzL25hcnJhdG9yLmFnZW50JztcbmltcG9ydCB7IGltYWdlVmFsaWRhdGlvblRvb2wgfSBmcm9tICcuL3Rvb2xzL2NhbWVyYS50b29sJztcbmltcG9ydCB7IG5hcnJhdGlvbldvcmtmbG93IH0gZnJvbSAnLi93b3JrZmxvd3MvbmFycmF0aW9uLndvcmtmbG93JztcblxuLy8gTWFzdHJh44Kk44Oz44K544K/44Oz44K544Gu5L2c5oiQ77yI5pyA5pawQVBJ77yJXG5leHBvcnQgY29uc3QgbWFzdHJhID0gbmV3IE1hc3RyYSh7XG4gIGFnZW50czoge1xuICAgIHZpc2lvbkFnZW50LFxuICAgIG5hcnJhdG9yQWdlbnQsXG4gIH0sXG4gIHRvb2xzOiB7XG4gICAgJ2ltYWdlLXZhbGlkYXRpb24nOiBpbWFnZVZhbGlkYXRpb25Ub29sLFxuICB9LFxuICB3b3JrZmxvd3M6IHtcbiAgICAnbmFycmF0aW9uLXdvcmtmbG93JzogbmFycmF0aW9uV29ya2Zsb3csXG4gIH0sXG59KTsiXSwibmFtZXMiOlsiTWFzdHJhIiwidmlzaW9uQWdlbnQiLCJuYXJyYXRvckFnZW50IiwiaW1hZ2VWYWxpZGF0aW9uVG9vbCIsIm5hcnJhdGlvbldvcmtmbG93IiwibWFzdHJhIiwiYWdlbnRzIiwidG9vbHMiLCJ3b3JrZmxvd3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/mastra/index.ts\n");

/***/ }),

/***/ "(rsc)/./src/mastra/tools/camera.tool.ts":
/*!*****************************************!*\
  !*** ./src/mastra/tools/camera.tool.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   imageValidationTool: () => (/* binding */ imageValidationTool),\n/* harmony export */   imageValidationToolInput: () => (/* binding */ imageValidationToolInput),\n/* harmony export */   imageValidationToolOutput: () => (/* binding */ imageValidationToolOutput)\n/* harmony export */ });\n/* harmony import */ var _mastra_core_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @mastra/core/tools */ \"(rsc)/./node_modules/@mastra/core/dist/chunk-6OLRLZJ3.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\nconst imageValidationToolInput = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    imageBase64: zod__WEBPACK_IMPORTED_MODULE_0__.string().describe('Base64 encoded image data')\n});\nconst imageValidationToolOutput = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    isValid: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    width: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    height: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    format: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    sizeKB: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    timestamp: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n});\nconst imageValidationTool = (0,_mastra_core_tools__WEBPACK_IMPORTED_MODULE_1__.createTool)({\n    id: 'image-validation',\n    description: 'Validates and extracts metadata from base64 image data',\n    inputSchema: imageValidationToolInput,\n    outputSchema: imageValidationToolOutput,\n    execute: async ({ context })=>{\n        const { imageBase64 } = context;\n        try {\n            // Base64ã®å½¢å¼ãƒã‚§ãƒƒã‚¯\n            if (!imageBase64 || typeof imageBase64 !== 'string') {\n                return {\n                    isValid: false,\n                    timestamp: new Date().toISOString()\n                };\n            }\n            // ã‚µã‚¤ã‚ºè¨ˆç®—ï¼ˆBase64ã®ã‚µã‚¤ã‚ºã‹ã‚‰ãŠãŠã‚ˆãã®ãƒã‚¤ãƒˆæ•°ã‚’æŽ¨å®šï¼‰\n            const sizeKB = Math.round(imageBase64.length * 3 / 4 / 1024);\n            // ç”»åƒå½¢å¼ã®æŽ¨å®šï¼ˆå…ˆé ­ã®æ•°ãƒã‚¤ãƒˆã‹ã‚‰ï¼‰\n            let format = 'unknown';\n            if (imageBase64.startsWith('/9j/')) format = 'jpeg';\n            else if (imageBase64.startsWith('iVBORw')) format = 'png';\n            else if (imageBase64.startsWith('R0lGOD')) format = 'gif';\n            return {\n                isValid: true,\n                format,\n                sizeKB,\n                timestamp: new Date().toISOString()\n            };\n        } catch (error) {\n            console.error('Image validation error:', error);\n            return {\n                isValid: false,\n                timestamp: new Date().toISOString()\n            };\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWFzdHJhL3Rvb2xzL2NhbWVyYS50b29sLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWdEO0FBQ3hCO0FBRWpCLE1BQU1FLDJCQUEyQkQsdUNBQVEsQ0FBQztJQUMvQ0csYUFBYUgsdUNBQVEsR0FBR0ssUUFBUSxDQUFDO0FBQ25DLEdBQUc7QUFFSSxNQUFNQyw0QkFBNEJOLHVDQUFRLENBQUM7SUFDaERPLFNBQVNQLHdDQUFTO0lBQ2xCUyxPQUFPVCx1Q0FBUSxHQUFHVyxRQUFRO0lBQzFCQyxRQUFRWix1Q0FBUSxHQUFHVyxRQUFRO0lBQzNCRSxRQUFRYix1Q0FBUSxHQUFHVyxRQUFRO0lBQzNCRyxRQUFRZCx1Q0FBUSxHQUFHVyxRQUFRO0lBQzNCSSxXQUFXZix1Q0FBUTtBQUNyQixHQUFHO0FBRUksTUFBTWdCLHNCQUFzQmpCLDhEQUFVQSxDQUFDO0lBQzVDa0IsSUFBSTtJQUNKQyxhQUFhO0lBQ2JDLGFBQWFsQjtJQUNibUIsY0FBY2Q7SUFDZGUsU0FBUyxPQUFPLEVBQUVDLE9BQU8sRUFBRTtRQUN6QixNQUFNLEVBQUVuQixXQUFXLEVBQUUsR0FBR21CO1FBRXhCLElBQUk7WUFDRixnQkFBZ0I7WUFDaEIsSUFBSSxDQUFDbkIsZUFBZSxPQUFPQSxnQkFBZ0IsVUFBVTtnQkFDbkQsT0FBTztvQkFDTEksU0FBUztvQkFDVFEsV0FBVyxJQUFJUSxPQUFPQyxXQUFXO2dCQUNuQztZQUNGO1lBRUEsa0NBQWtDO1lBQ2xDLE1BQU1WLFNBQVNXLEtBQUtDLEtBQUssQ0FBQyxZQUFhQyxNQUFNLEdBQUcsSUFBSyxJQUFJO1lBRXpELHFCQUFxQjtZQUNyQixJQUFJZCxTQUFTO1lBQ2IsSUFBSVYsWUFBWXlCLFVBQVUsQ0FBQyxTQUFTZixTQUFTO2lCQUN4QyxJQUFJVixZQUFZeUIsVUFBVSxDQUFDLFdBQVdmLFNBQVM7aUJBQy9DLElBQUlWLFlBQVl5QixVQUFVLENBQUMsV0FBV2YsU0FBUztZQUVwRCxPQUFPO2dCQUNMTixTQUFTO2dCQUNUTTtnQkFDQUM7Z0JBQ0FDLFdBQVcsSUFBSVEsT0FBT0MsV0FBVztZQUNuQztRQUNGLEVBQUUsT0FBT0ssT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsMkJBQTJCQTtZQUN6QyxPQUFPO2dCQUNMdEIsU0FBUztnQkFDVFEsV0FBVyxJQUFJUSxPQUFPQyxXQUFXO1lBQ25DO1FBQ0Y7SUFDRjtBQUNGLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW1hZG9yaS9tZWV0aW5nLXNsaWRlcy1haS9zcmMvbWFzdHJhL3Rvb2xzL2NhbWVyYS50b29sLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZVRvb2wgfSBmcm9tICdAbWFzdHJhL2NvcmUvdG9vbHMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbmV4cG9ydCBjb25zdCBpbWFnZVZhbGlkYXRpb25Ub29sSW5wdXQgPSB6Lm9iamVjdCh7XG4gIGltYWdlQmFzZTY0OiB6LnN0cmluZygpLmRlc2NyaWJlKCdCYXNlNjQgZW5jb2RlZCBpbWFnZSBkYXRhJyksXG59KTtcblxuZXhwb3J0IGNvbnN0IGltYWdlVmFsaWRhdGlvblRvb2xPdXRwdXQgPSB6Lm9iamVjdCh7XG4gIGlzVmFsaWQ6IHouYm9vbGVhbigpLFxuICB3aWR0aDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBoZWlnaHQ6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgZm9ybWF0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNpemVLQjogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICB0aW1lc3RhbXA6IHouc3RyaW5nKCksXG59KTtcblxuZXhwb3J0IGNvbnN0IGltYWdlVmFsaWRhdGlvblRvb2wgPSBjcmVhdGVUb29sKHtcbiAgaWQ6ICdpbWFnZS12YWxpZGF0aW9uJyxcbiAgZGVzY3JpcHRpb246ICdWYWxpZGF0ZXMgYW5kIGV4dHJhY3RzIG1ldGFkYXRhIGZyb20gYmFzZTY0IGltYWdlIGRhdGEnLFxuICBpbnB1dFNjaGVtYTogaW1hZ2VWYWxpZGF0aW9uVG9vbElucHV0LFxuICBvdXRwdXRTY2hlbWE6IGltYWdlVmFsaWRhdGlvblRvb2xPdXRwdXQsXG4gIGV4ZWN1dGU6IGFzeW5jICh7IGNvbnRleHQgfSkgPT4ge1xuICAgIGNvbnN0IHsgaW1hZ2VCYXNlNjQgfSA9IGNvbnRleHQ7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEJhc2U2NOOBruW9ouW8j+ODgeOCp+ODg+OCr1xuICAgICAgaWYgKCFpbWFnZUJhc2U2NCB8fCB0eXBlb2YgaW1hZ2VCYXNlNjQgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIOOCteOCpOOCuuioiOeul++8iEJhc2U2NOOBruOCteOCpOOCuuOBi+OCieOBiuOBiuOCiOOBneOBruODkOOCpOODiOaVsOOCkuaOqOWumu+8iVxuICAgICAgY29uc3Qgc2l6ZUtCID0gTWF0aC5yb3VuZCgoaW1hZ2VCYXNlNjQubGVuZ3RoICogMykgLyA0IC8gMTAyNCk7XG4gICAgICBcbiAgICAgIC8vIOeUu+WDj+W9ouW8j+OBruaOqOWumu+8iOWFiOmgreOBruaVsOODkOOCpOODiOOBi+OCie+8iVxuICAgICAgbGV0IGZvcm1hdCA9ICd1bmtub3duJztcbiAgICAgIGlmIChpbWFnZUJhc2U2NC5zdGFydHNXaXRoKCcvOWovJykpIGZvcm1hdCA9ICdqcGVnJztcbiAgICAgIGVsc2UgaWYgKGltYWdlQmFzZTY0LnN0YXJ0c1dpdGgoJ2lWQk9SdycpKSBmb3JtYXQgPSAncG5nJztcbiAgICAgIGVsc2UgaWYgKGltYWdlQmFzZTY0LnN0YXJ0c1dpdGgoJ1IwbEdPRCcpKSBmb3JtYXQgPSAnZ2lmJztcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgICAgZm9ybWF0LFxuICAgICAgICBzaXplS0IsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignSW1hZ2UgdmFsaWRhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbn0pOyJdLCJuYW1lcyI6WyJjcmVhdGVUb29sIiwieiIsImltYWdlVmFsaWRhdGlvblRvb2xJbnB1dCIsIm9iamVjdCIsImltYWdlQmFzZTY0Iiwic3RyaW5nIiwiZGVzY3JpYmUiLCJpbWFnZVZhbGlkYXRpb25Ub29sT3V0cHV0IiwiaXNWYWxpZCIsImJvb2xlYW4iLCJ3aWR0aCIsIm51bWJlciIsIm9wdGlvbmFsIiwiaGVpZ2h0IiwiZm9ybWF0Iiwic2l6ZUtCIiwidGltZXN0YW1wIiwiaW1hZ2VWYWxpZGF0aW9uVG9vbCIsImlkIiwiZGVzY3JpcHRpb24iLCJpbnB1dFNjaGVtYSIsIm91dHB1dFNjaGVtYSIsImV4ZWN1dGUiLCJjb250ZXh0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiTWF0aCIsInJvdW5kIiwibGVuZ3RoIiwic3RhcnRzV2l0aCIsImVycm9yIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/mastra/tools/camera.tool.ts\n");

/***/ }),

/***/ "(rsc)/./src/mastra/workflows/narration.workflow.ts":
/*!****************************************************!*\
  !*** ./src/mastra/workflows/narration.workflow.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   narrationWorkflow: () => (/* binding */ narrationWorkflow)\n/* harmony export */ });\n/* harmony import */ var _mastra_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @mastra/core */ \"(rsc)/./node_modules/@mastra/core/dist/chunk-HBJVAMCS.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../agents/vision.agent */ \"(rsc)/./src/mastra/agents/vision.agent.ts\");\n/* harmony import */ var _agents_narrator_agent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../agents/narrator.agent */ \"(rsc)/./src/mastra/agents/narrator.agent.ts\");\n/* harmony import */ var _tools_camera_tool__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../tools/camera.tool */ \"(rsc)/./src/mastra/tools/camera.tool.ts\");\n\n\n\n\n\n// Step 1: ç”»åƒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆã‚«ãƒ¡ãƒ©ã¨ç”»é¢ï¼‰\nconst validateImageStep = (0,_mastra_core__WEBPACK_IMPORTED_MODULE_3__.createStep)({\n    id: 'validate-image',\n    inputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraImageBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        screenImages: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.string())\n    }),\n    outputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraIsValid: zod__WEBPACK_IMPORTED_MODULE_4__.boolean(),\n        screensValid: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.boolean()),\n        timestamp: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        cameraImageBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        screenImages: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.string())\n    }),\n    execute: async ({ inputData })=>{\n        const { cameraImageBase64, screenImages } = inputData;\n        // ã‚«ãƒ¡ãƒ©ç”»åƒã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³\n        const cameraResult = await _tools_camera_tool__WEBPACK_IMPORTED_MODULE_2__.imageValidationTool.execute({\n            context: {\n                imageBase64: cameraImageBase64\n            }\n        });\n        // ç”»é¢ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæœ€åˆã®1ã¤ã ã‘ï¼‰\n        const screenResult = await _tools_camera_tool__WEBPACK_IMPORTED_MODULE_2__.imageValidationTool.execute({\n            context: {\n                imageBase64: screenImages[0]\n            }\n        });\n        if (!cameraResult.isValid || !screenResult.isValid) {\n            throw new Error('Invalid image data');\n        }\n        console.log('âœ… Camera & Screen validated');\n        return {\n            cameraIsValid: cameraResult.isValid,\n            screensValid: [\n                screenResult.isValid\n            ],\n            timestamp: cameraResult.timestamp,\n            cameraImageBase64,\n            screenImages\n        };\n    }\n});\n// Step 2: ç”»åƒåˆ†æžï¼ˆã‚«ãƒ¡ãƒ©ã¨ç”»é¢ã‚’åŒæ™‚ã«ï¼‰\nconst analyzeImageStep = (0,_mastra_core__WEBPACK_IMPORTED_MODULE_3__.createStep)({\n    id: 'analyze-image',\n    inputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraIsValid: zod__WEBPACK_IMPORTED_MODULE_4__.boolean(),\n        screensValid: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.boolean()),\n        timestamp: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        cameraImageBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        screenImages: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.string())\n    }),\n    outputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraAnalysis: _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.activitySchema,\n        screenAnalyses: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.object({\n            content: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å†…å®¹ã®è©³ç´°'),\n            activity: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ç”»é¢ä¸Šã§ä½•ã‚’ã—ã¦ã„ã‚‹ã‹ï¼ˆã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°ã€å‹•ç”»è¦–è´ãªã©ï¼‰'),\n            application: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ')\n        }))\n    }),\n    execute: async ({ inputData })=>{\n        const { cameraImageBase64, screenImages } = inputData;\n        // ã‚«ãƒ¡ãƒ©ç”»åƒã®åˆ†æž\n        const cameraResult = await _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.visionAgent.generate([\n            {\n                role: 'user',\n                content: [\n                    {\n                        type: 'text',\n                        text: 'Analyze the person in this camera image in detail'\n                    },\n                    {\n                        type: 'image',\n                        image: `data:image/jpeg;base64,${cameraImageBase64}`\n                    }\n                ]\n            }\n        ], {\n            structuredOutput: {\n                schema: _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.activitySchema\n            }\n        });\n        // ç”»é¢ç”»åƒã®åˆ†æžï¼ˆæœ€åˆã®1ã¤ã ã‘ï¼‰\n        const screenSchema = zod__WEBPACK_IMPORTED_MODULE_4__.object({\n            content: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å†…å®¹ã®è©³ç´°'),\n            activity: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ç”»é¢ä¸Šã§ä½•ã‚’ã—ã¦ã„ã‚‹ã‹ï¼ˆã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ–ãƒ©ã‚¦ã‚¸ãƒ³ã‚°ã€å‹•ç”»è¦–è´ãªã©ï¼‰'),\n            application: zod__WEBPACK_IMPORTED_MODULE_4__.string().describe('ä½¿ç”¨ã—ã¦ã„ã‚‹ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ')\n        });\n        const screenResult = await _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.visionAgent.generate([\n            {\n                role: 'user',\n                content: [\n                    {\n                        type: 'text',\n                        text: 'Analyze this screen capture. What is displayed? What application or website is being used? What activity is being performed?'\n                    },\n                    {\n                        type: 'image',\n                        image: `data:image/jpeg;base64,${screenImages[0]}`\n                    }\n                ]\n            }\n        ], {\n            structuredOutput: {\n                schema: screenSchema\n            }\n        });\n        console.log('âœ… Camera analyzed:', cameraResult.object);\n        console.log('âœ… Screen analyzed:', screenResult.object);\n        return {\n            cameraAnalysis: cameraResult.object,\n            screenAnalyses: [\n                screenResult.object\n            ]\n        };\n    }\n});\n// Step 3: å®Ÿæ³æ–‡ç”Ÿæˆï¼ˆã‚«ãƒ¡ãƒ©ã¨ç”»é¢ã‚’çµ±åˆï¼‰\nconst generateNarrationStep = (0,_mastra_core__WEBPACK_IMPORTED_MODULE_3__.createStep)({\n    id: 'generate-narration',\n    inputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraAnalysis: _agents_vision_agent__WEBPACK_IMPORTED_MODULE_0__.activitySchema,\n        screenAnalyses: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.object({\n            content: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n            activity: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n            application: zod__WEBPACK_IMPORTED_MODULE_4__.string()\n        }))\n    }),\n    outputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        narration: zod__WEBPACK_IMPORTED_MODULE_4__.string()\n    }),\n    execute: async ({ inputData })=>{\n        const { cameraAnalysis, screenAnalyses } = inputData;\n        // æœ€åˆã®ç”»é¢ï¼ˆãƒ¡ã‚¤ãƒ³ç”»é¢ï¼‰ã‚’ä½¿ç”¨\n        const screenAnalysis = screenAnalyses[0];\n        const prompt = `\nã€ã‚«ãƒ¡ãƒ©ï¼ˆæœ¬äººã®æ§˜å­ï¼‰ã€‘\næ´»å‹•: ${cameraAnalysis.activity}\næ°—åˆ†: ${cameraAnalysis.mood}\nå§¿å‹¢: ${cameraAnalysis.posture}\nè©³ç´°: ${cameraAnalysis.details}\nå‘¨å›²ã®ç‰©: ${cameraAnalysis.objects?.join(', ') || 'ãªã—'}\nç’°å¢ƒ: ${cameraAnalysis.environment}\n\nã€ç”»é¢ï¼ˆPCä½œæ¥­å†…å®¹ï¼‰ã€‘\nè¡¨ç¤ºå†…å®¹: ${screenAnalysis.content}\nä½œæ¥­å†…å®¹: ${screenAnalysis.activity}\nã‚¢ãƒ—ãƒª/ã‚µã‚¤ãƒˆ: ${screenAnalysis.application}\n\næœ¬äººã®æ§˜å­ã¨PCç”»é¢ã®ä¸¡æ–¹ã‚’è¦‹ã¦ã€ä»Šä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã€ç†±è¡€ã‚¹ãƒãƒ¼ãƒ„å®Ÿæ³é¢¨ã«å®Ÿæ³ã—ã¦ãã ã•ã„ï¼\nç”»é¢ã§ä½•ã‚’ã—ã¦ã„ã‚‹ã‹ã€ãã®äººãŒã©ã‚“ãªçŠ¶æ…‹ã§å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ã‹ã‚’2-3æ–‡ã§ã€ã‚¨ã‚­ã‚µã‚¤ãƒ†ã‚£ãƒ³ã‚°ã«ï¼\n`;\n        const result = await _agents_narrator_agent__WEBPACK_IMPORTED_MODULE_1__.narratorAgent.generate(prompt);\n        console.log('âœ… Narration generated:', result.text);\n        return {\n            narration: result.text\n        };\n    }\n});\n// Step 4: éŸ³å£°åˆæˆ\nconst synthesizeSpeechStep = (0,_mastra_core__WEBPACK_IMPORTED_MODULE_3__.createStep)({\n    id: 'synthesize-speech',\n    inputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        narration: zod__WEBPACK_IMPORTED_MODULE_4__.string()\n    }),\n    outputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        audioBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        mimeType: zod__WEBPACK_IMPORTED_MODULE_4__.string()\n    }),\n    execute: async ({ inputData })=>{\n        const { narration } = inputData;\n        console.log('ðŸ”Š Synthesizing speech for:', narration);\n        // OpenAI TTS API\n        const response = await fetch('https://api.openai.com/v1/audio/speech', {\n            method: 'POST',\n            headers: {\n                'Authorization': `Bearer ${process.env.OPENAI_API_KEY}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                model: 'tts-1',\n                voice: 'alloy',\n                input: narration,\n                response_format: 'mp3'\n            })\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            throw new Error(`TTS API failed (${response.status}): ${errorText}`);\n        }\n        const audioBuffer = await response.arrayBuffer();\n        const audioBase64 = Buffer.from(audioBuffer).toString('base64');\n        console.log('âœ… Audio synthesized, size:', audioBase64.length);\n        return {\n            audioBase64,\n            mimeType: 'audio/mpeg'\n        };\n    }\n});\n// Workflowå®šç¾©ï¼ˆæœ€æ–°APIï¼‰\nconst narrationWorkflow = (0,_mastra_core__WEBPACK_IMPORTED_MODULE_3__.createWorkflow)({\n    id: 'narration-workflow',\n    inputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        cameraImageBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        screenImages: zod__WEBPACK_IMPORTED_MODULE_4__.array(zod__WEBPACK_IMPORTED_MODULE_4__.string())\n    }),\n    outputSchema: zod__WEBPACK_IMPORTED_MODULE_4__.object({\n        audioBase64: zod__WEBPACK_IMPORTED_MODULE_4__.string(),\n        mimeType: zod__WEBPACK_IMPORTED_MODULE_4__.string()\n    })\n}).then(validateImageStep).then(analyzeImageStep).then(generateNarrationStep).then(synthesizeSpeechStep).commit();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbWFzdHJhL3dvcmtmbG93cy9uYXJyYXRpb24ud29ya2Zsb3cudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBEO0FBQ2xDO0FBQzZDO0FBQ1o7QUFDRTtBQUUzRCw0QkFBNEI7QUFDNUIsTUFBTU8sb0JBQW9CTix3REFBVUEsQ0FBQztJQUNuQ08sSUFBSTtJQUNKQyxhQUFhUCx1Q0FBUSxDQUFDO1FBQ3BCUyxtQkFBbUJULHVDQUFRO1FBQzNCVyxjQUFjWCxzQ0FBTyxDQUFDQSx1Q0FBUTtJQUNoQztJQUNBYSxjQUFjYix1Q0FBUSxDQUFDO1FBQ3JCYyxlQUFlZCx3Q0FBUztRQUN4QmdCLGNBQWNoQixzQ0FBTyxDQUFDQSx3Q0FBUztRQUMvQmlCLFdBQVdqQix1Q0FBUTtRQUNuQlMsbUJBQW1CVCx1Q0FBUTtRQUMzQlcsY0FBY1gsc0NBQU8sQ0FBQ0EsdUNBQVE7SUFDaEM7SUFDQWtCLFNBQVMsT0FBTyxFQUFFQyxTQUFTLEVBQUU7UUFDM0IsTUFBTSxFQUFFVixpQkFBaUIsRUFBRUUsWUFBWSxFQUFFLEdBQUdRO1FBRTVDLGdCQUFnQjtRQUNoQixNQUFNQyxlQUFlLE1BQU1oQixtRUFBbUJBLENBQUNjLE9BQU8sQ0FBQztZQUNyREcsU0FBUztnQkFBRUMsYUFBYWI7WUFBa0I7UUFDNUM7UUFFQSxzQkFBc0I7UUFDdEIsTUFBTWMsZUFBZSxNQUFNbkIsbUVBQW1CQSxDQUFDYyxPQUFPLENBQUM7WUFDckRHLFNBQVM7Z0JBQUVDLGFBQWFYLFlBQVksQ0FBQyxFQUFFO1lBQUM7UUFDMUM7UUFFQSxJQUFJLENBQUNTLGFBQWFJLE9BQU8sSUFBSSxDQUFDRCxhQUFhQyxPQUFPLEVBQUU7WUFDbEQsTUFBTSxJQUFJQyxNQUFNO1FBQ2xCO1FBRUFDLFFBQVFDLEdBQUcsQ0FBQztRQUNaLE9BQU87WUFDTGIsZUFBZU0sYUFBYUksT0FBTztZQUNuQ1IsY0FBYztnQkFBQ08sYUFBYUMsT0FBTzthQUFDO1lBQ3BDUCxXQUFXRyxhQUFhSCxTQUFTO1lB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Q1BDLE9BQU96QjtnQkFDUDBCLGlCQUFpQjtZQUNuQjtRQUNGO1FBRUEsSUFBSSxDQUFDYixTQUFTYyxFQUFFLEVBQUU7WUFDaEIsTUFBTUMsWUFBWSxNQUFNZixTQUFTbkIsSUFBSTtZQUNyQyxNQUFNLElBQUliLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRWdDLFNBQVNnQixNQUFNLENBQUMsR0FBRyxFQUFFRCxXQUFXO1FBQ3JFO1FBRUEsTUFBTUUsY0FBYyxNQUFNakIsU0FBU2tCLFdBQVc7UUFDOUMsTUFBTXBCLGNBQWNxQixPQUFPQyxJQUFJLENBQUNILGFBQWFJLFFBQVEsQ0FBQztRQUV0RHBELFFBQVFDLEdBQUcsQ0FBQyw4QkFBOEI0QixZQUFZd0IsTUFBTTtRQUU1RCxPQUFPO1lBQ0x4QjtZQUNBQyxVQUFVO1FBQ1o7SUFDRjtBQUNGO0FBRUEsb0JBQW9CO0FBQ2IsTUFBTXdCLG9CQUFvQmxGLDREQUFjQSxDQUFDO0lBQzlDUSxJQUFJO0lBQ0pDLGFBQWFQLHVDQUFRLENBQUM7UUFDcEJTLG1CQUFtQlQsdUNBQVE7UUFDM0JXLGNBQWNYLHNDQUFPLENBQUNBLHVDQUFRO0lBQ2hDO0lBQ0FhLGNBQWNiLHVDQUFRLENBQUM7UUFDckJ1RCxhQUFhdkQsdUNBQVE7UUFDckJ3RCxVQUFVeEQsdUNBQVE7SUFDcEI7QUFDRixHQUNHaUYsSUFBSSxDQUFDNUUsbUJBQ0w0RSxJQUFJLENBQUNyRCxrQkFDTHFELElBQUksQ0FBQ3RDLHVCQUNMc0MsSUFBSSxDQUFDM0Isc0JBQ0w0QixNQUFNLEdBQUciLCJzb3VyY2VzIjpbIi9Vc2Vycy95YW1hZG9yaS9tZWV0aW5nLXNsaWRlcy1haS9zcmMvbWFzdHJhL3dvcmtmbG93cy9uYXJyYXRpb24ud29ya2Zsb3cudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlV29ya2Zsb3csIGNyZWF0ZVN0ZXAgfSBmcm9tICdAbWFzdHJhL2NvcmUnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5pbXBvcnQgeyBhY3Rpdml0eVNjaGVtYSwgdmlzaW9uQWdlbnQgfSBmcm9tICcuLi9hZ2VudHMvdmlzaW9uLmFnZW50JztcbmltcG9ydCB7IG5hcnJhdG9yQWdlbnQgfSBmcm9tICcuLi9hZ2VudHMvbmFycmF0b3IuYWdlbnQnO1xuaW1wb3J0IHsgaW1hZ2VWYWxpZGF0aW9uVG9vbCB9IGZyb20gJy4uL3Rvb2xzL2NhbWVyYS50b29sJztcblxuLy8gU3RlcCAxOiDnlLvlg4/jg5Djg6rjg4fjg7zjgrfjg6fjg7PvvIjjgqvjg6Hjg6njgajnlLvpnaLvvIlcbmNvbnN0IHZhbGlkYXRlSW1hZ2VTdGVwID0gY3JlYXRlU3RlcCh7XG4gIGlkOiAndmFsaWRhdGUtaW1hZ2UnLFxuICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgIGNhbWVyYUltYWdlQmFzZTY0OiB6LnN0cmluZygpLFxuICAgIHNjcmVlbkltYWdlczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgfSksXG4gIG91dHB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgIGNhbWVyYUlzVmFsaWQ6IHouYm9vbGVhbigpLFxuICAgIHNjcmVlbnNWYWxpZDogei5hcnJheSh6LmJvb2xlYW4oKSksXG4gICAgdGltZXN0YW1wOiB6LnN0cmluZygpLFxuICAgIGNhbWVyYUltYWdlQmFzZTY0OiB6LnN0cmluZygpLFxuICAgIHNjcmVlbkltYWdlczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgfSksXG4gIGV4ZWN1dGU6IGFzeW5jICh7IGlucHV0RGF0YSB9KSA9PiB7XG4gICAgY29uc3QgeyBjYW1lcmFJbWFnZUJhc2U2NCwgc2NyZWVuSW1hZ2VzIH0gPSBpbnB1dERhdGE7XG5cbiAgICAvLyDjgqvjg6Hjg6nnlLvlg4/jga7jg5Djg6rjg4fjg7zjgrfjg6fjg7NcbiAgICBjb25zdCBjYW1lcmFSZXN1bHQgPSBhd2FpdCBpbWFnZVZhbGlkYXRpb25Ub29sLmV4ZWN1dGUoe1xuICAgICAgY29udGV4dDogeyBpbWFnZUJhc2U2NDogY2FtZXJhSW1hZ2VCYXNlNjQgfSxcbiAgICB9KTtcblxuICAgIC8vIOeUu+mdouOBruODkOODquODh+ODvOOCt+ODp+ODs++8iOacgOWIneOBrjHjgaTjgaDjgZHvvIlcbiAgICBjb25zdCBzY3JlZW5SZXN1bHQgPSBhd2FpdCBpbWFnZVZhbGlkYXRpb25Ub29sLmV4ZWN1dGUoe1xuICAgICAgY29udGV4dDogeyBpbWFnZUJhc2U2NDogc2NyZWVuSW1hZ2VzWzBdIH0sXG4gICAgfSk7XG5cbiAgICBpZiAoIWNhbWVyYVJlc3VsdC5pc1ZhbGlkIHx8ICFzY3JlZW5SZXN1bHQuaXNWYWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGltYWdlIGRhdGEnKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIENhbWVyYSAmIFNjcmVlbiB2YWxpZGF0ZWQnKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2FtZXJhSXNWYWxpZDogY2FtZXJhUmVzdWx0LmlzVmFsaWQsXG4gICAgICBzY3JlZW5zVmFsaWQ6IFtzY3JlZW5SZXN1bHQuaXNWYWxpZF0sXG4gICAgICB0aW1lc3RhbXA6IGNhbWVyYVJlc3VsdC50aW1lc3RhbXAsXG4gICAgICBjYW1lcmFJbWFnZUJhc2U2NCxcbiAgICAgIHNjcmVlbkltYWdlcyxcbiAgICB9O1xuICB9LFxufSk7XG5cbi8vIFN0ZXAgMjog55S75YOP5YiG5p6Q77yI44Kr44Oh44Op44Go55S76Z2i44KS5ZCM5pmC44Gr77yJXG5jb25zdCBhbmFseXplSW1hZ2VTdGVwID0gY3JlYXRlU3RlcCh7XG4gIGlkOiAnYW5hbHl6ZS1pbWFnZScsXG4gIGlucHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgY2FtZXJhSXNWYWxpZDogei5ib29sZWFuKCksXG4gICAgc2NyZWVuc1ZhbGlkOiB6LmFycmF5KHouYm9vbGVhbigpKSxcbiAgICB0aW1lc3RhbXA6IHouc3RyaW5nKCksXG4gICAgY2FtZXJhSW1hZ2VCYXNlNjQ6IHouc3RyaW5nKCksXG4gICAgc2NyZWVuSW1hZ2VzOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICB9KSxcbiAgb3V0cHV0U2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgY2FtZXJhQW5hbHlzaXM6IGFjdGl2aXR5U2NoZW1hLFxuICAgIHNjcmVlbkFuYWx5c2VzOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgIGNvbnRlbnQ6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ+eUu+mdouOBq+ihqOekuuOBleOCjOOBpuOBhOOCi+WGheWuueOBruips+e0sCcpLFxuICAgICAgYWN0aXZpdHk6IHouc3RyaW5nKCkuZGVzY3JpYmUoJ+eUu+mdouS4iuOBp+S9leOCkuOBl+OBpuOBhOOCi+OBi++8iOOCs+ODvOODh+OCo+ODs+OCsOOAgeODluODqeOCpuOCuOODs+OCsOOAgeWLleeUu+imluiBtOOBquOBqe+8iScpLFxuICAgICAgYXBwbGljYXRpb246IHouc3RyaW5nKCkuZGVzY3JpYmUoJ+S9v+eUqOOBl+OBpuOBhOOCi+OCouODl+ODquOCseODvOOCt+ODp+ODs+OChOOCpuOCp+ODluOCteOCpOODiCcpLFxuICAgIH0pKSxcbiAgfSksXG4gIGV4ZWN1dGU6IGFzeW5jICh7IGlucHV0RGF0YSB9KSA9PiB7XG4gICAgY29uc3QgeyBjYW1lcmFJbWFnZUJhc2U2NCwgc2NyZWVuSW1hZ2VzIH0gPSBpbnB1dERhdGE7XG5cbiAgICAvLyDjgqvjg6Hjg6nnlLvlg4/jga7liIbmnpBcbiAgICBjb25zdCBjYW1lcmFSZXN1bHQgPSBhd2FpdCB2aXNpb25BZ2VudC5nZW5lcmF0ZShcbiAgICAgIFtcbiAgICAgICAge1xuICAgICAgICAgIHJvbGU6ICd1c2VyJyxcbiAgICAgICAgICBjb250ZW50OiBbXG4gICAgICAgICAgICB7IHR5cGU6ICd0ZXh0JywgdGV4dDogJ0FuYWx5emUgdGhlIHBlcnNvbiBpbiB0aGlzIGNhbWVyYSBpbWFnZSBpbiBkZXRhaWwnIH0sXG4gICAgICAgICAgICB7IHR5cGU6ICdpbWFnZScsIGltYWdlOiBgZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwke2NhbWVyYUltYWdlQmFzZTY0fWAgfSxcbiAgICAgICAgICBdLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIHtcbiAgICAgICAgc3RydWN0dXJlZE91dHB1dDogeyBzY2hlbWE6IGFjdGl2aXR5U2NoZW1hIH0sXG4gICAgICB9XG4gICAgKTtcblxuICAgIC8vIOeUu+mdoueUu+WDj+OBruWIhuaekO+8iOacgOWIneOBrjHjgaTjgaDjgZHvvIlcbiAgICBjb25zdCBzY3JlZW5TY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgICBjb250ZW50OiB6LnN0cmluZygpLmRlc2NyaWJlKCfnlLvpnaLjgavooajnpLrjgZXjgozjgabjgYTjgovlhoXlrrnjga7oqbPntLAnKSxcbiAgICAgIGFjdGl2aXR5OiB6LnN0cmluZygpLmRlc2NyaWJlKCfnlLvpnaLkuIrjgafkvZXjgpLjgZfjgabjgYTjgovjgYvvvIjjgrPjg7zjg4fjgqPjg7PjgrDjgIHjg5bjg6njgqbjgrjjg7PjgrDjgIHli5XnlLvoppbogbTjgarjganvvIknKSxcbiAgICAgIGFwcGxpY2F0aW9uOiB6LnN0cmluZygpLmRlc2NyaWJlKCfkvb/nlKjjgZfjgabjgYTjgovjgqLjg5fjg6rjgrHjg7zjgrfjg6fjg7PjgoTjgqbjgqfjg5bjgrXjgqTjg4gnKSxcbiAgICB9KTtcblxuICAgIGNvbnN0IHNjcmVlblJlc3VsdCA9IGF3YWl0IHZpc2lvbkFnZW50LmdlbmVyYXRlKFxuICAgICAgW1xuICAgICAgICB7XG4gICAgICAgICAgcm9sZTogJ3VzZXInLFxuICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICB0ZXh0OiAnQW5hbHl6ZSB0aGlzIHNjcmVlbiBjYXB0dXJlLiBXaGF0IGlzIGRpc3BsYXllZD8gV2hhdCBhcHBsaWNhdGlvbiBvciB3ZWJzaXRlIGlzIGJlaW5nIHVzZWQ/IFdoYXQgYWN0aXZpdHkgaXMgYmVpbmcgcGVyZm9ybWVkPycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeyB0eXBlOiAnaW1hZ2UnLCBpbWFnZTogYGRhdGE6aW1hZ2UvanBlZztiYXNlNjQsJHtzY3JlZW5JbWFnZXNbMF19YCB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAge1xuICAgICAgICBzdHJ1Y3R1cmVkT3V0cHV0OiB7IHNjaGVtYTogc2NyZWVuU2NoZW1hIH0sXG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgQ2FtZXJhIGFuYWx5emVkOicsIGNhbWVyYVJlc3VsdC5vYmplY3QpO1xuICAgIGNvbnNvbGUubG9nKCfinIUgU2NyZWVuIGFuYWx5emVkOicsIHNjcmVlblJlc3VsdC5vYmplY3QpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbWVyYUFuYWx5c2lzOiBjYW1lcmFSZXN1bHQub2JqZWN0LFxuICAgICAgc2NyZWVuQW5hbHlzZXM6IFtzY3JlZW5SZXN1bHQub2JqZWN0XSxcbiAgICB9O1xuICB9LFxufSk7XG5cbi8vIFN0ZXAgMzog5a6f5rOB5paH55Sf5oiQ77yI44Kr44Oh44Op44Go55S76Z2i44KS57Wx5ZCI77yJXG5jb25zdCBnZW5lcmF0ZU5hcnJhdGlvblN0ZXAgPSBjcmVhdGVTdGVwKHtcbiAgaWQ6ICdnZW5lcmF0ZS1uYXJyYXRpb24nLFxuICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgIGNhbWVyYUFuYWx5c2lzOiBhY3Rpdml0eVNjaGVtYSxcbiAgICBzY3JlZW5BbmFseXNlczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgICBjb250ZW50OiB6LnN0cmluZygpLFxuICAgICAgYWN0aXZpdHk6IHouc3RyaW5nKCksXG4gICAgICBhcHBsaWNhdGlvbjogei5zdHJpbmcoKSxcbiAgICB9KSksXG4gIH0pLFxuICBvdXRwdXRTY2hlbWE6IHoub2JqZWN0KHsgbmFycmF0aW9uOiB6LnN0cmluZygpIH0pLFxuICBleGVjdXRlOiBhc3luYyAoeyBpbnB1dERhdGEgfSkgPT4ge1xuICAgIGNvbnN0IHsgY2FtZXJhQW5hbHlzaXMsIHNjcmVlbkFuYWx5c2VzIH0gPSBpbnB1dERhdGE7XG5cbiAgICAvLyDmnIDliJ3jga7nlLvpnaLvvIjjg6HjgqTjg7PnlLvpnaLvvInjgpLkvb/nlKhcbiAgICBjb25zdCBzY3JlZW5BbmFseXNpcyA9IHNjcmVlbkFuYWx5c2VzWzBdO1xuXG4gICAgY29uc3QgcHJvbXB0ID0gYFxu44CQ44Kr44Oh44Op77yI5pys5Lq644Gu5qeY5a2Q77yJ44CRXG7mtLvli5U6ICR7Y2FtZXJhQW5hbHlzaXMuYWN0aXZpdHl9XG7msJfliIY6ICR7Y2FtZXJhQW5hbHlzaXMubW9vZH1cbuWnv+WLojogJHtjYW1lcmFBbmFseXNpcy5wb3N0dXJlfVxu6Kmz57SwOiAke2NhbWVyYUFuYWx5c2lzLmRldGFpbHN9XG7lkajlm7Ljga7niak6ICR7Y2FtZXJhQW5hbHlzaXMub2JqZWN0cz8uam9pbignLCAnKSB8fCAn44Gq44GXJ31cbueSsOWigzogJHtjYW1lcmFBbmFseXNpcy5lbnZpcm9ubWVudH1cblxu44CQ55S76Z2i77yIUEPkvZzmpa3lhoXlrrnvvInjgJFcbuihqOekuuWGheWuuTogJHtzY3JlZW5BbmFseXNpcy5jb250ZW50fVxu5L2c5qWt5YaF5a65OiAke3NjcmVlbkFuYWx5c2lzLmFjdGl2aXR5fVxu44Ki44OX44OqL+OCteOCpOODiDogJHtzY3JlZW5BbmFseXNpcy5hcHBsaWNhdGlvbn1cblxu5pys5Lq644Gu5qeY5a2Q44GoUEPnlLvpnaLjga7kuKHmlrnjgpLopovjgabjgIHku4rkvZXjgpLjgZfjgabjgYTjgovjga7jgYvjgIHnhrHooYDjgrnjg53jg7zjg4Tlrp/ms4Hpoqjjgavlrp/ms4HjgZfjgabjgY/jgaDjgZXjgYTvvIFcbueUu+mdouOBp+S9leOCkuOBl+OBpuOBhOOCi+OBi+OAgeOBneOBruS6uuOBjOOBqeOCk+OBqueKtuaFi+OBp+WPluOCiue1hOOCk+OBp+OBhOOCi+OBi+OCkjItM+aWh+OBp+OAgeOCqOOCreOCteOCpOODhuOCo+ODs+OCsOOBq++8gVxuYDtcblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG5hcnJhdG9yQWdlbnQuZ2VuZXJhdGUocHJvbXB0KTtcblxuICAgIGNvbnNvbGUubG9nKCfinIUgTmFycmF0aW9uIGdlbmVyYXRlZDonLCByZXN1bHQudGV4dCk7XG4gICAgcmV0dXJuIHsgbmFycmF0aW9uOiByZXN1bHQudGV4dCB9O1xuICB9LFxufSk7XG5cbi8vIFN0ZXAgNDog6Z+z5aOw5ZCI5oiQXG5jb25zdCBzeW50aGVzaXplU3BlZWNoU3RlcCA9IGNyZWF0ZVN0ZXAoe1xuICBpZDogJ3N5bnRoZXNpemUtc3BlZWNoJyxcbiAgaW5wdXRTY2hlbWE6IHoub2JqZWN0KHsgbmFycmF0aW9uOiB6LnN0cmluZygpIH0pLFxuICBvdXRwdXRTY2hlbWE6IHoub2JqZWN0KHtcbiAgICBhdWRpb0Jhc2U2NDogei5zdHJpbmcoKSxcbiAgICBtaW1lVHlwZTogei5zdHJpbmcoKSxcbiAgfSksXG4gIGV4ZWN1dGU6IGFzeW5jICh7IGlucHV0RGF0YSB9KSA9PiB7XG4gICAgY29uc3QgeyBuYXJyYXRpb24gfSA9IGlucHV0RGF0YTtcblxuICAgIGNvbnNvbGUubG9nKCfwn5SKIFN5bnRoZXNpemluZyBzcGVlY2ggZm9yOicsIG5hcnJhdGlvbik7XG5cbiAgICAvLyBPcGVuQUkgVFRTIEFQSVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vYXBpLm9wZW5haS5jb20vdjEvYXVkaW8vc3BlZWNoJywge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Byb2Nlc3MuZW52Lk9QRU5BSV9BUElfS0VZfWAsXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBtb2RlbDogJ3R0cy0xJyxcbiAgICAgICAgdm9pY2U6ICdhbGxveScsXG4gICAgICAgIGlucHV0OiBuYXJyYXRpb24sXG4gICAgICAgIHJlc3BvbnNlX2Zvcm1hdDogJ21wMycsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVFRTIEFQSSBmYWlsZWQgKCR7cmVzcG9uc2Uuc3RhdHVzfSk6ICR7ZXJyb3JUZXh0fWApO1xuICAgIH1cblxuICAgIGNvbnN0IGF1ZGlvQnVmZmVyID0gYXdhaXQgcmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICBjb25zdCBhdWRpb0Jhc2U2NCA9IEJ1ZmZlci5mcm9tKGF1ZGlvQnVmZmVyKS50b1N0cmluZygnYmFzZTY0Jyk7XG5cbiAgICBjb25zb2xlLmxvZygn4pyFIEF1ZGlvIHN5bnRoZXNpemVkLCBzaXplOicsIGF1ZGlvQmFzZTY0Lmxlbmd0aCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgYXVkaW9CYXNlNjQsXG4gICAgICBtaW1lVHlwZTogJ2F1ZGlvL21wZWcnLFxuICAgIH07XG4gIH0sXG59KTtcblxuLy8gV29ya2Zsb3flrprnvqnvvIjmnIDmlrBBUEnvvIlcbmV4cG9ydCBjb25zdCBuYXJyYXRpb25Xb3JrZmxvdyA9IGNyZWF0ZVdvcmtmbG93KHtcbiAgaWQ6ICduYXJyYXRpb24td29ya2Zsb3cnLFxuICBpbnB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgIGNhbWVyYUltYWdlQmFzZTY0OiB6LnN0cmluZygpLFxuICAgIHNjcmVlbkltYWdlczogei5hcnJheSh6LnN0cmluZygpKSxcbiAgfSksXG4gIG91dHB1dFNjaGVtYTogei5vYmplY3Qoe1xuICAgIGF1ZGlvQmFzZTY0OiB6LnN0cmluZygpLFxuICAgIG1pbWVUeXBlOiB6LnN0cmluZygpLFxuICB9KSxcbn0pXG4gIC50aGVuKHZhbGlkYXRlSW1hZ2VTdGVwKVxuICAudGhlbihhbmFseXplSW1hZ2VTdGVwKVxuICAudGhlbihnZW5lcmF0ZU5hcnJhdGlvblN0ZXApXG4gIC50aGVuKHN5bnRoZXNpemVTcGVlY2hTdGVwKVxuICAuY29tbWl0KCk7XG4iXSwibmFtZXMiOlsiY3JlYXRlV29ya2Zsb3ciLCJjcmVhdGVTdGVwIiwieiIsImFjdGl2aXR5U2NoZW1hIiwidmlzaW9uQWdlbnQiLCJuYXJyYXRvckFnZW50IiwiaW1hZ2VWYWxpZGF0aW9uVG9vbCIsInZhbGlkYXRlSW1hZ2VTdGVwIiwiaWQiLCJpbnB1dFNjaGVtYSIsIm9iamVjdCIsImNhbWVyYUltYWdlQmFzZTY0Iiwic3RyaW5nIiwic2NyZWVuSW1hZ2VzIiwiYXJyYXkiLCJvdXRwdXRTY2hlbWEiLCJjYW1lcmFJc1ZhbGlkIiwiYm9vbGVhbiIsInNjcmVlbnNWYWxpZCIsInRpbWVzdGFtcCIsImV4ZWN1dGUiLCJpbnB1dERhdGEiLCJjYW1lcmFSZXN1bHQiLCJjb250ZXh0IiwiaW1hZ2VCYXNlNjQiLCJzY3JlZW5SZXN1bHQiLCJpc1ZhbGlkIiwiRXJyb3IiLCJjb25zb2xlIiwibG9nIiwiYW5hbHl6ZUltYWdlU3RlcCIsImNhbWVyYUFuYWx5c2lzIiwic2NyZWVuQW5hbHlzZXMiLCJjb250ZW50IiwiZGVzY3JpYmUiLCJhY3Rpdml0eSIsImFwcGxpY2F0aW9uIiwiZ2VuZXJhdGUiLCJyb2xlIiwidHlwZSIsInRleHQiLCJpbWFnZSIsInN0cnVjdHVyZWRPdXRwdXQiLCJzY2hlbWEiLCJzY3JlZW5TY2hlbWEiLCJnZW5lcmF0ZU5hcnJhdGlvblN0ZXAiLCJuYXJyYXRpb24iLCJzY3JlZW5BbmFseXNpcyIsInByb21wdCIsIm1vb2QiLCJwb3N0dXJlIiwiZGV0YWlscyIsIm9iamVjdHMiLCJqb2luIiwiZW52aXJvbm1lbnQiLCJyZXN1bHQiLCJzeW50aGVzaXplU3BlZWNoU3RlcCIsImF1ZGlvQmFzZTY0IiwibWltZVR5cGUiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInByb2Nlc3MiLCJlbnYiLCJPUEVOQUlfQVBJX0tFWSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibW9kZWwiLCJ2b2ljZSIsImlucHV0IiwicmVzcG9uc2VfZm9ybWF0Iiwib2siLCJlcnJvclRleHQiLCJzdGF0dXMiLCJhdWRpb0J1ZmZlciIsImFycmF5QnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsInRvU3RyaW5nIiwibGVuZ3RoIiwibmFycmF0aW9uV29ya2Zsb3ciLCJ0aGVuIiwiY29tbWl0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/mastra/workflows/narration.workflow.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@mastra","vendor-chunks/@vercel","vendor-chunks/next","vendor-chunks/@opentelemetry","vendor-chunks/zod","vendor-chunks/zod-from-json-schema","vendor-chunks/json-schema-to-zod","vendor-chunks/@ai-sdk","vendor-chunks/xstate","vendor-chunks/radash","vendor-chunks/js-tiktoken","vendor-chunks/eventsource-parser","vendor-chunks/ai-v5","vendor-chunks/dotenv","vendor-chunks/zod-from-json-schema-v3","vendor-chunks/p-retry","vendor-chunks/p-map","vendor-chunks/nanoid","vendor-chunks/is-network-error","vendor-chunks/sift","vendor-chunks/base64-js","vendor-chunks/@isaacs"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fnarrate%2Froute&page=%2Fapi%2Fnarrate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fnarrate%2Froute.ts&appDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyamadori%2Fmeeting-slides-ai&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();